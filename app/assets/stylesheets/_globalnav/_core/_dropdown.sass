// Dropdown
// 
// .dropdown - Lonely Planet masked select elements
// 
// Styleguide 3.2

// ----------------------------------------------------------------------------
// Custom Select Dropdown
// 
// Pseudo element has height, background-color and left padding in order to mask
// the content of dropdown__value if it extends beyond its container
// ----------------------------------------------------------------------------

.dropdown
  position: relative

.dropdown--half
  float: left
  width: 50%

.dropdown--third
  float: left
  width: 33.3%

.dropdown__value
  +box-sizing()
  @extend %rounded-corners
  @extend %right-icon
  +word-break()
  font-weight: bold
  background-color: #fff
  background-color: $body-background-offset
  border: 1px solid $body-background-offset
  box-shadow: 1px 1px 1px rgba(3,46,92,0.2)
  display: block
  overflow: hidden
  padding: 10px 40px 10px 10px
  text-overflow: ellipsis
  white-space: nowrap
  .is-flat &
    background-color: transparent
    box-shadow: none
    border: none
    font-weight: bold
    +font-size(18)
  .no-js &, .no-background-size &
    &.icon--chevron-down--after:after
      // down-pointing arrowhead, looks quite like a downpointing chevron
      content: '\02c5'
      font-size: 25px


  .standout &, .wrap--footer &, .inverted &
    background-color: #fff

  .inverted &
    border: 1px solid $subdued
    box-shadow: none

  &:after
    @extend %rounded-corners
    right: 5px
    top: 33%
    width: 14px

  .base
    &:after
      content: '\2335'

  .enhanced &, .ie8.home &
    &:after
      background-position: center
      content: ''
      height: 100%
      right: 10px
      top: 0

  .dropdown--first &
    +border-radius-each(4,0,0,4)
    border-right: none

  .dropdown--middle &
    +border-radius(0)
    border-left: none
    border-right: none

  .dropdown--last &
    border-left: none
    +border-radius-each(0,4,4,0)

  .field__input--error &
    border-color: $red

.dropdown__value.is-selected
  background-color: #fff
  border: 1px solid $details-panel-border

.dropdown__select
  +appearance(menulist-button)
  +font-size(16) // Prevent zoom on iOS
  height: 100%
  left: 0
  opacity: 0
  position: absolute
  top: 0
  width: 100%
  .ie7 &, .ie8 &
    filter: alpha(opacity = 0)
  .no-js &
    filter: alpha(opacity = 1)
    opacity: 1
